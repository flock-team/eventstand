<main class="main-wrap">
  <div class="gallery-top">
    <swiper
      [initialSlide]="3"
      effect="fade"
      [loop]="true"
      [loopAdditionalSlides]="1"
      [autoplay]="{
        delay: 6000
      }"
      [thumbs]="{
        Swiper: galleryThumbs
      }"
      [watchSlidesVisibility]="true"
      [watchSlidesProgress]="true"
      [slideToClickedSlide]="true"
      [navigation]="true"
      [pagination]="{
        clickable: true,
        el: '.pagination',
        bulletElement: 'span'
      }"
    >
      <ng-template swiperSlide let-data *ngFor="let event of spEvents$ | async">
        <app-special [event]="event"></app-special>
      </ng-template>
    </swiper>
    <div class="pagination"></div>
  </div>

  <div class="gallery-thumbs">
    <swiper
      [initialSlide]="3"
      [slidesPerView]="6"
      [loop]="true"
      [loopAdditionalSlides]="1"
      [autoplay]="{
        delay: 6000
      }"
      [watchSlidesVisibility]="true"
      [watchSlidesProgress]="true"
      [centeredSlides]="true"
      [slideToClickedSlide]="true"
      [navigation]="{
        nextEl: '.navigation__icon--next',
        prevEl: '.navigation__icon--prev'
      }"
    >
      <ng-template swiperSlide let-data *ngFor="let event of spEvents$ | async">
        <img [src]="event.thumbnailURL" alt="" />
      </ng-template>
    </swiper>

    <div class="navigation navigation--prev">
      <div class="navigation__icon navigation__icon--prev"></div>
    </div>
    <div class="navigation navigation--next">
      <div class="navigation__icon navigation__icon--next"></div>
    </div>
  </div>

  <ng-container *ngIf="user$ | async as user; else guest">
    <div class="home-tab-group">
      <mat-tab-group
        mat-align-tabs="center"
        *ngIf="events$ | async as eventLists"
      >
        <mat-tab label="ðŸ—“ ã‚¤ãƒ™ãƒ³ãƒˆ">
          <div class="container">
            <app-event-list [user]="user"></app-event-list></div
        ></mat-tab>
        <mat-tab label="ðŸ‘« äºº">
          <div class="container">
            <app-user-list></app-user-list>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </ng-container>

  <ng-template #guest>
    <div class="container">
      <div class="event-grid">
        <app-event-card
          *ngFor="let event of events$ | async"
          [event]="event"
        ></app-event-card>
      </div>
    </div>
  </ng-template>
</main>

<div class="footer">
  <app-footer></app-footer>
</div>
